{"ast":null,"code":"import{PRODUCTS_LIST_REQUEST,PRODUCTS_LIST_SUCCESS,PRODUCTS_LIST_FAIL,PRODUCT_DETAILS_REQUEST,PRODUCT_DETAILS_SUCCESS,PRODUCT_DETAILS_FAIL,CREATE_PRODUCT_REQUEST,CREATE_PRODUCT_SUCCESS,CREATE_PRODUCT_FAIL,DELETE_PRODUCT_REQUEST,DELETE_PRODUCT_SUCCESS,DELETE_PRODUCT_FAIL,UPDATE_PRODUCT_REQUEST,UPDATE_PRODUCT_SUCCESS,UPDATE_PRODUCT_FAIL,CHANGE_DELIVERY_STATUS_REQUEST,CHANGE_DELIVERY_STATUS_SUCCESS,CHANGE_DELIVERY_STATUS_FAIL}from'../constants/index';import axios from'axios';// products list\nexport const getProductsList=()=>async dispatch=>{try{dispatch({type:PRODUCTS_LIST_REQUEST});// call api\nconst{data}=await axios.get(\"/api/products/\");dispatch({type:PRODUCTS_LIST_SUCCESS,payload:data});}catch(error){dispatch({type:PRODUCTS_LIST_FAIL,payload:error.message});}};// product details\nexport const getProductDetails=id=>async dispatch=>{try{dispatch({type:PRODUCT_DETAILS_REQUEST});// call api\nconst{data}=await axios.get(`/api/product/${id}/`);dispatch({type:PRODUCT_DETAILS_SUCCESS,payload:data});}catch(error){dispatch({type:PRODUCT_DETAILS_FAIL,payload:error.message});}};// create product\nexport const createProduct=product=>async(dispatch,getState)=>{try{dispatch({type:CREATE_PRODUCT_REQUEST});// login reducer\nconst{userLoginReducer:{userInfo}}=getState();const config={headers:{\"Content-Type\":\"multipart/form-data\",Authorization:`Bearer ${userInfo.token}`}};// api call\nconst{data}=await axios.post(\"/api/product-create/\",product,config);dispatch({type:CREATE_PRODUCT_SUCCESS,payload:data});}catch(error){dispatch({type:CREATE_PRODUCT_FAIL,payload:error.response&&error.response.data.detail?error.response.data.detail:error.message});}};// delete product\nexport const deleteProduct=id=>async(dispatch,getState)=>{try{dispatch({type:DELETE_PRODUCT_REQUEST});// login reducer\nconst{userLoginReducer:{userInfo}}=getState();const config={headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${userInfo.token}`}};// api call\nconst{data}=await axios.delete(`/api/product-delete/${id}/`,config);dispatch({type:DELETE_PRODUCT_SUCCESS,payload:data});}catch(error){dispatch({type:DELETE_PRODUCT_FAIL,payload:error.response&&error.response.data.detail?error.response.data.detail:error.message});}};// update product\nexport const updateProduct=(id,product)=>async(dispatch,getState)=>{try{dispatch({type:UPDATE_PRODUCT_REQUEST});// login reducer\nconst{userLoginReducer:{userInfo}}=getState();const config={headers:{\"Content-Type\":\"multipart/form-data\",Authorization:`Bearer ${userInfo.token}`}};// api call\nconst{data}=await axios.put(`/api/product-update/${id}/`,product,config);dispatch({type:UPDATE_PRODUCT_SUCCESS,payload:data});}catch(error){dispatch({type:UPDATE_PRODUCT_FAIL,payload:error.response&&error.response.data.detail?error.response.data.detail:error.message});}};// change ordered product delivery status\nexport const changeDeliveryStatus=(id,product)=>async(dispatch,getState)=>{try{dispatch({type:CHANGE_DELIVERY_STATUS_REQUEST});// login reducer\nconst{userLoginReducer:{userInfo}}=getState();const config={headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${userInfo.token}`}};// api call\nconst{data}=await axios.put(`/account/change-order-status/${id}/`,product,config);dispatch({type:CHANGE_DELIVERY_STATUS_SUCCESS,payload:data});}catch(error){dispatch({type:CHANGE_DELIVERY_STATUS_FAIL,payload:error.response&&error.response.data.detail?error.response.data.detail:error.message});}};","map":{"version":3,"names":["PRODUCTS_LIST_REQUEST","PRODUCTS_LIST_SUCCESS","PRODUCTS_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","CREATE_PRODUCT_REQUEST","CREATE_PRODUCT_SUCCESS","CREATE_PRODUCT_FAIL","DELETE_PRODUCT_REQUEST","DELETE_PRODUCT_SUCCESS","DELETE_PRODUCT_FAIL","UPDATE_PRODUCT_REQUEST","UPDATE_PRODUCT_SUCCESS","UPDATE_PRODUCT_FAIL","CHANGE_DELIVERY_STATUS_REQUEST","CHANGE_DELIVERY_STATUS_SUCCESS","CHANGE_DELIVERY_STATUS_FAIL","axios","getProductsList","dispatch","type","data","get","payload","error","message","getProductDetails","id","createProduct","product","getState","userLoginReducer","userInfo","config","headers","Authorization","token","post","response","detail","deleteProduct","delete","updateProduct","put","changeDeliveryStatus"],"sources":["E:/FrontendEcommerce/frontend/src/actions/productActions.js"],"sourcesContent":["import {\n    PRODUCTS_LIST_REQUEST,\n    PRODUCTS_LIST_SUCCESS,\n    PRODUCTS_LIST_FAIL,\n\n    PRODUCT_DETAILS_REQUEST,\n    PRODUCT_DETAILS_SUCCESS,\n    PRODUCT_DETAILS_FAIL,\n\n    CREATE_PRODUCT_REQUEST,\n    CREATE_PRODUCT_SUCCESS,\n    CREATE_PRODUCT_FAIL,\n\n    DELETE_PRODUCT_REQUEST,\n    DELETE_PRODUCT_SUCCESS,\n    DELETE_PRODUCT_FAIL,\n\n    UPDATE_PRODUCT_REQUEST,\n    UPDATE_PRODUCT_SUCCESS,\n    UPDATE_PRODUCT_FAIL,\n\n    CHANGE_DELIVERY_STATUS_REQUEST,\n    CHANGE_DELIVERY_STATUS_SUCCESS,\n    CHANGE_DELIVERY_STATUS_FAIL,\n\n} from '../constants/index'\n\nimport axios from 'axios'\n\n\n// products list\nexport const getProductsList = () => async (dispatch) => {\n    try {\n        dispatch({\n            type: PRODUCTS_LIST_REQUEST\n        })\n\n        // call api\n        const { data } = await axios.get(\"/api/products/\")\n\n        dispatch({\n            type: PRODUCTS_LIST_SUCCESS,\n            payload: data\n        })\n    } catch (error) {\n        dispatch({\n            type: PRODUCTS_LIST_FAIL,\n            payload: error.message\n        })\n    }\n}\n\n\n// product details\nexport const getProductDetails = (id) => async (dispatch) => {\n    try {\n        dispatch({\n            type: PRODUCT_DETAILS_REQUEST\n        })\n\n        // call api\n        const { data } = await axios.get(`/api/product/${id}/`)\n\n        dispatch({\n            type: PRODUCT_DETAILS_SUCCESS,\n            payload: data\n        })\n    } catch (error) {\n        dispatch({\n            type: PRODUCT_DETAILS_FAIL,\n            payload: error.message\n        })\n    }\n}\n\n\n// create product\nexport const createProduct = (product) => async (dispatch, getState) => {\n\n    try {\n        dispatch({\n            type: CREATE_PRODUCT_REQUEST\n        })\n\n        // login reducer\n        const {\n            userLoginReducer: { userInfo },\n        } = getState()\n\n        const config = {\n            headers: {\n                \"Content-Type\": \"multipart/form-data\",\n                Authorization: `Bearer ${userInfo.token}`\n            }\n        }\n\n        // api call\n        const { data } = await axios.post(\n            \"/api/product-create/\",\n            product,\n            config\n        )\n\n        dispatch({\n            type: CREATE_PRODUCT_SUCCESS,\n            payload: data\n        })\n    } catch (error) {\n        dispatch({\n            type: CREATE_PRODUCT_FAIL,\n            payload: error.response && error.response.data.detail ? error.response.data.detail : error.message\n        })\n    }\n}\n\n// delete product\nexport const deleteProduct = (id) => async (dispatch, getState) => {\n    try {\n        dispatch({\n            type: DELETE_PRODUCT_REQUEST\n        })\n\n        // login reducer\n        const {\n            userLoginReducer: { userInfo },\n        } = getState()\n\n        const config = {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${userInfo.token}`\n            }\n        }\n\n        // api call\n        const { data } = await axios.delete(\n            `/api/product-delete/${id}/`,\n            config\n        )\n\n        dispatch({\n            type: DELETE_PRODUCT_SUCCESS,\n            payload: data\n        })\n\n    } catch (error) {\n        dispatch({\n            type: DELETE_PRODUCT_FAIL,\n            payload: error.response && error.response.data.detail ? error.response.data.detail : error.message\n        })\n    }\n}\n\n// update product\nexport const updateProduct = (id, product) => async (dispatch, getState) => {\n\n    try {\n        dispatch({\n            type: UPDATE_PRODUCT_REQUEST\n        })\n\n        // login reducer\n        const {\n            userLoginReducer: { userInfo },\n        } = getState()\n\n        const config = {\n            headers: {\n                \"Content-Type\": \"multipart/form-data\",\n                Authorization: `Bearer ${userInfo.token}`\n            }\n        }\n\n        // api call\n        const { data } = await axios.put(\n            `/api/product-update/${id}/`,\n            product,\n            config\n        )\n\n        dispatch({\n            type: UPDATE_PRODUCT_SUCCESS,\n            payload: data\n        })\n\n    } catch (error) {\n        dispatch({\n            type: UPDATE_PRODUCT_FAIL,\n            payload: error.response && error.response.data.detail ? error.response.data.detail : error.message\n        })\n    }\n}\n\n\n// change ordered product delivery status\nexport const changeDeliveryStatus = (id, product) => async (dispatch, getState) => {\n\n    try {\n        dispatch({\n            type: CHANGE_DELIVERY_STATUS_REQUEST\n        })\n\n        // login reducer\n        const {\n            userLoginReducer: { userInfo },\n        } = getState()\n\n        const config = {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${userInfo.token}`\n            }\n        }\n\n        // api call\n        const { data } = await axios.put(\n            `/account/change-order-status/${id}/`,\n            product,\n            config\n        )\n\n        dispatch({\n            type: CHANGE_DELIVERY_STATUS_SUCCESS,\n            payload: data\n        })\n\n    } catch (error) {\n        dispatch({\n            type: CHANGE_DELIVERY_STATUS_FAIL,\n            payload: error.response && error.response.data.detail ? error.response.data.detail : error.message\n        })\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}