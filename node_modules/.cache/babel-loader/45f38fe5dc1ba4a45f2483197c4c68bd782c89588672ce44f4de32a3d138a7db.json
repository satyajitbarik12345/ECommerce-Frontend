{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{getProductsList}from'../actions/productActions';import Message from'../components/Message';import{Spinner,Row,Col}from'react-bootstrap';import Product from'../components/Product';import{useHistory}from\"react-router-dom\";import{CREATE_PRODUCT_RESET}from'../constants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProductsListPage(){let history=useHistory();let searchTerm=history.location.search;const dispatch=useDispatch();// products list reducer\nconst productsListReducer=useSelector(state=>state.productsListReducer);const{loading,error,products}=productsListReducer;useEffect(()=>{dispatch(getProductsList());dispatch({type:CREATE_PRODUCT_RESET});//dispatch(checkTokenValidation())\n},[dispatch]);const showNothingMessage=()=>{return/*#__PURE__*/_jsx(\"div\",{children:!loading?/*#__PURE__*/_jsx(Message,{variant:\"info\",children:\"Nothing to show\"}):\"\"});};return/*#__PURE__*/_jsxs(\"div\",{children:[error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),loading&&/*#__PURE__*/_jsxs(\"span\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Getting Products\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Row,{children:products.filter(item=>item.name.toLowerCase().includes(searchTerm!==\"\"?searchTerm.split(\"=\")[1]:\"\")).length===0?showNothingMessage():products.filter(item=>item.name.toLowerCase().includes(searchTerm!==\"\"?searchTerm.split(\"=\")[1]:\"\")).map((product,idx)=>/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-2\",children:/*#__PURE__*/_jsx(Product,{product:product})})},product.id))})})]});}export default ProductsListPage;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","getProductsList","Message","Spinner","Row","Col","Product","useHistory","CREATE_PRODUCT_RESET","jsx","_jsx","jsxs","_jsxs","ProductsListPage","history","searchTerm","location","search","dispatch","productsListReducer","state","loading","error","products","type","showNothingMessage","children","variant","style","display","className","animation","filter","item","name","toLowerCase","includes","split","length","map","product","idx","sm","md","lg","xl","id"],"sources":["E:/FrontendEcommerce/frontend/src/pages/ProductsListPage.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getProductsList } from '../actions/productActions'\nimport Message from '../components/Message'\nimport { Spinner, Row, Col } from 'react-bootstrap'\nimport Product from '../components/Product'\nimport { useHistory } from \"react-router-dom\";\nimport { CREATE_PRODUCT_RESET } from '../constants'\n\n\nfunction ProductsListPage() {\n\n    let history = useHistory()\n    let searchTerm = history.location.search\n    const dispatch = useDispatch()\n\n    // products list reducer\n    const productsListReducer = useSelector(state => state.productsListReducer)\n    const { loading, error, products } = productsListReducer\n\n    useEffect(() => {\n        dispatch(getProductsList())\n        dispatch({\n            type: CREATE_PRODUCT_RESET\n        })\n        //dispatch(checkTokenValidation())\n    }, [dispatch])\n\n    const showNothingMessage = () => {\n        return (\n            <div>\n                {!loading ? <Message variant='info'>Nothing to show</Message> : \"\"}                \n            </div>\n        )\n    }\n\n    return (\n        <div>\n            {error && <Message variant='danger'>{error}</Message>}\n            {loading && <span style={{ display: \"flex\" }}>\n                <h5>Getting Products</h5>\n                <span className=\"ml-2\">\n                    <Spinner animation=\"border\" />\n                </span>\n            </span>}\n            <div>\n                <Row>\n\n                    {/* If length of the filter result is equal to 0 then show 'nothing found' message\n                        with help of showNothingMessage function else show the filtered result on the\n                        webpage and then run the map function */}\n\n                    {(products.filter((item) =>\n                        item.name.toLowerCase().includes(searchTerm !== \"\" ? searchTerm.split(\"=\")[1] : \"\")\n                    )).length === 0 ? showNothingMessage() : (products.filter((item) =>\n                        item.name.toLowerCase().includes(searchTerm !== \"\" ? searchTerm.split(\"=\")[1] : \"\")\n                    )).map((product, idx) => (\n                        <Col key={product.id} sm={12} md={6} lg={4} xl={3}>\n                            <div className=\"mx-2\"> \n                                <Product product={product} />\n                            </div>\n                        </Col>\n                    )\n                    )}\n                </Row>\n            </div>\n        </div>\n    )\n}\n\nexport default ProductsListPage\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}